# ==========================================
# AI Contract Guardian - Configuration
# ==========================================

# ==========================================
# ENVIRONNEMENT
# ==========================================
DEBUG=false
ENVIRONMENT=development  # development, staging, production
VERSION=0.4.0

# ==========================================
# BASE DE DONNÉES
# ==========================================
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/contract_guardian

# Options pour production:
# DATABASE_URL=postgresql+asyncpg://user:password@your-db-host:5432/contract_guardian

# ==========================================
# REDIS (Cache & Queue)
# ==========================================
REDIS_URL=redis://localhost:6379/0

# Pour production avec authentification:
# REDIS_URL=redis://:password@your-redis-host:6379/0

# ==========================================
# SÉCURITÉ
# ==========================================
# Générer une clé forte: openssl rand -hex 32
SECRET_KEY=change-me-in-production-generate-a-strong-key-here

# JWT Configuration
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
ALGORITHM=HS256

# ==========================================
# CLÉS API - LLM
# ==========================================
# Anthropic (Claude) - Obligatoire
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# Modèle Claude à utiliser
ANTHROPIC_MODEL=claude-sonnet-4-5-20250929
# Autres options:
# ANTHROPIC_MODEL=claude-opus-4-5-20250929
# ANTHROPIC_MODEL=claude-haiku-3-5-20250721

# OpenAI (Fallback optionnel)
OPENAI_API_KEY=sk-your-openai-api-key-here

# ==========================================
# CLÉS API - RECHERCHE WEB
# ==========================================
# Brave Search API (Obligatoire pour recherche juridique)
# Obtenir sur: https://api.search.brave.com/
BRAVE_API_KEY=BSAMv1lKwbG3ZHU1rh9yG6R_2fy1opH

# ==========================================
# STOCKAGE FICHIERS
# ==========================================
# Local (développement)
UPLOAD_DIR=/tmp/uploads

# Supabase Storage (production)
# SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_KEY=your-supabase-service-key
# SUPABASE_BUCKET=contracts

# AWS S3 (alternative)
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_REGION=eu-west-3
# S3_BUCKET=ai-contract-guardian-uploads

# ==========================================
# CORS (Cross-Origin Resource Sharing)
# ==========================================
# En développement:
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# En production:
# CORS_ORIGINS=https://yourdomain.com,https://app.yourdomain.com

# ==========================================
# MONITORING & LOGGING
# ==========================================
# Sentry (optionnel)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# ==========================================
# EMAIL (optionnel - pour notifications)
# ==========================================
# SMTP Configuration
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM=noreply@aicontractguardian.com

# SendGrid (alternative)
# SENDGRID_API_KEY=SG.your-sendgrid-api-key

# ==========================================
# FEATURE FLAGS
# ==========================================
# Activer la recherche web de sources juridiques
ENABLE_LEGAL_SEARCH=true

# Activer le calcul de score de confiance
ENABLE_CONFIDENCE_SCORE=true

# Activer l'analyse asynchrone (Celery)
ENABLE_ASYNC_ANALYSIS=true

# Mode démo (sans appels API facturés)
DEMO_MODE=false

# ==========================================
# RATE LIMITING
# ==========================================
# Requêtes par minute par IP
RATE_LIMIT_PER_MINUTE=60

# Requêtes par heure par utilisateur
RATE_LIMIT_PER_HOUR=1000

# ==========================================
# LIMITES
# ==========================================
# Taille maximale fichier upload (en MB)
MAX_FILE_SIZE_MB=50

# Nombre max d'analyses par mois (gratuit)
MONTHLY_ANALYSIS_LIMIT=10

# Durée de conservation des contrats (jours)
CONTRACT_RETENTION_DAYS=90

# ==========================================
# FONCTIONNALITÉS AVANCÉES
# ==========================================
# ClamAV (scan antivirus)
# CLAMAV_HOST=localhost
# CLAMAV_PORT=3310

# OCR pour PDF scannés
# TESSERACT_PATH=/usr/bin/tesseract

# ==========================================
# DÉVELOPPEMENT UNIQUEMENT
# ==========================================
# Ne pas utiliser en production!
PYTHONDONTWRITEBYTECODE=1
PYTHONUNBUFFERED=1

# Reload automatique FastAPI
RELOAD=true

# Workers (1 pour dev, plus pour prod)
WORKERS=1